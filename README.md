# iitm-senai-ticket-assignment

This is a Flask ticket-raising API designed based on the specifications given by IIT-SENAI. The APIs are built using falsk_restful and database uses SQLite.

## pip installs

To use the app you need to install the following packages:

1. Flask
2. flask_restful
3. Flask-SQLAlchemy

Do the following commands in your environment to install them:

```bash
pip install Flask
pip install flask-restful
pip install Flask-SQLAlchemy
```

## Running the app

Clone the repo and navigate to the directory you've cloned it to and run:

```bash
python run.py
```

# End points

## `/ticket`


### POST

As mentioned in the specification I have designed the `POST /ticket` to raise a ticket. This can be done by passing `args` in the body of the request as follows:

```JSON
{
  "user_1": <int: ticket raiser's user_id>,
  "issue": <string: description of the issue>
}
```

This will auto-generate a `ticket_id` using for this ticket using the `uuid` package, and assign it to one of the users with a round robing principle.

### GET

Requesting `GET /ticket` returns all the tickets raised by all users and who they're assigned to (as `user_id`) along their `ticket_id` and `issue`

### DELETE

`DELETE /ticket` can be used to delete a raised ticket by sending its `ticket_id` through the body as follows:

```JSON
{
  "ticket_id": <string: ticket id that generated by the program>
}
```

## Users

### POST

`POST /user` can create a new user by passing a username (it does not need to be unique) in the body.

```JSON
{
  "username": <string: username for user>
}
```

This will auto-generate a `user_id` that is an `int` which is auto-incremented from one.

### GET

Requesting `GET /user` returns all the users created with their `user_id` and `username`

### DELETE

`DELETE /user` can be used to delete a user by sending their `user_id` through the body as follows:

```JSON
{
  "user_id": <int>
}
```



